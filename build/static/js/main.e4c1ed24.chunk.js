(this["webpackJsonpreact-scale"]=this["webpackJsonpreact-scale"]||[]).push([[0],{180:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),c=a(191),i=a(6),l=a(23),o=a(118),s=a(190),u=Object(l.createMuiTheme)({palette:{primary:{light:"#757de8",main:"#3f51b5",dark:"#002984",contrastText:"#fff"},secondary:{light:"#ff79b0",main:"#ff4081",dark:"#c60055",contrastText:"#000"},openTitle:o.indigo[400],protectedTitle:o.pink[400],type:"light"}});t.a=Object(s.hot)(e)((function(){return r.a.createElement(i.a,null,r.a.createElement(l.MuiThemeProvider,{theme:u},r.a.createElement(c.a,null)))}))}).call(this,a(123)(e))},191:function(e,t,a){"use strict";var n=a(11),r=a(12),c=a(13),i=a(14),l=a(0),o=a.n(l),s=a(6),u=a(23),m=a(15),d=a.n(m),p=a(9),h=a.n(p),g=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(d.a,{className:e.card},o.a.createElement(h.a,{type:"headline",component:"h2",className:e.title},"Home Page"),o.a.createElement(m.CardMedia,{className:e.media,title:"Unicorn Shells"}),o.a.createElement(m.CardContent,null,o.a.createElement(h.a,{type:"body1",component:"p"},"Welcome to the Scale home page.")))}}]),a}(l.Component),E=Object(u.withStyles)((function(e){return{card:{maxWidth:600,margin:"auto",marginTop:5*e.spacing.unit},title:{padding:"".concat(3*e.spacing.unit,"px ").concat(2.5*e.spacing.unit,"px ").concat(2*e.spacing.unit,"px"),color:e.palette.text.secondary},media:{minHeight:330}}}))(g),f=a(37),b=a.n(f),y=a(19),v=a.n(y),C=a(53),S=a.n(C),j=a(29),A=a.n(j),O=a(117),T=a.n(O),w=a(54),k=a.n(w),N={urlApi:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).URL_API||"http://localhost:4000"},x=function(e){return fetch("".concat(N.urlApi,"/api/users/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},I=function(e,t){return fetch("".concat(N.urlApi,"/api/users/")+e.userId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},D=function(e,t){return fetch("".concat(N.urlApi,"/api/users/")+e.userId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},L=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={users:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(N.urlApi,"/api/users/"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(t){t.error?console.log(t.error):e.setState({users:t})}))}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(b.a,{className:e.root,elevation:4},o.a.createElement(h.a,{type:"title",className:e.title},"All Users"),o.a.createElement(v.a,{dense:!0},this.state.users.map((function(e,t){return o.a.createElement(s.b,{to:"/user/"+e._id,key:t},o.a.createElement(y.ListItem,{button:!0},o.a.createElement(y.ListItemAvatar,null,o.a.createElement(S.a,null,o.a.createElement(k.a,null))),o.a.createElement(y.ListItemText,{primary:e.name}),o.a.createElement(y.ListItemSecondaryAction,null,o.a.createElement(A.a,null,o.a.createElement(T.a,null)))))}))))}}]),a}(l.Component),F=Object(u.withStyles)((function(e){return{root:e.mixins.gutters({padding:e.spacing.unit,margin:5*e.spacing.unit}),title:{margin:"".concat(4*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px"),color:e.palette.openTitle}}}))(L),B=a(186),P=a.n(B),_=a(83),R=a.n(_),W=a(84),J=a.n(W),M=function(e,t){return fetch("".concat(N.urlApi,"/api/scales/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.t},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},U=function(){return fetch("".concat(N.urlApi,"/api/scales/"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},z=a(10),q=a.n(z),G=a(82),H=a.n(G),K=a(16),V=a.n(K),Q=function(e){return console.log(e),fetch("".concat(N.urlApi,"/auth/signin/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"omit",body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},X={isAuthenticated:function(){return"undefined"!=typeof window&&(!!sessionStorage.getItem("jwt")&&JSON.parse(sessionStorage.getItem("jwt")))},authenticate:function(e,t){"undefined"!==typeof window&&sessionStorage.setItem("jwt",JSON.stringify(e)),t()},signout:function(e){"undefined"!==typeof window&&sessionStorage.removeItem("jwt"),e(),fetch("".concat(N.urlApi,"/auth/signout/"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){document.cookie="t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}))}},Y=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).clickButton=function(){r.setState({open:!0})},r.deleteScale=function(){var e,t,a=X.isAuthenticated();(e={scaleId:r.props.scaleId},t={t:a.token},fetch("".concat(N.urlApi,"/api/scales/")+e.scaleId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?console.log(e.error):(console.log("passou em ".concat(r.props.updateListScale)),r.setState({open:!1},r.props.updateListScale))}))},r.handleRequestClose=function(){r.setState({open:!1})},r.state={redirect:!1,open:!1},r}return Object(r.a)(a,[{key:"render",value:function(){return this.state.redirect?o.a.createElement(s.c,{push:!0,to:"/scales"}):o.a.createElement("span",null,o.a.createElement(A.a,{"aria-label":"Delete",onClick:this.clickButton,color:"secondary",id:this.props.scaleId},o.a.createElement(H.a,null)),o.a.createElement(V.a,{open:this.state.open,onClose:this.handleRequestClose,id:this.props.scaleId},o.a.createElement(K.DialogTitle,null,"Delete Scale"),o.a.createElement(K.DialogContent,null,o.a.createElement(K.DialogContentText,null,"Confirm to delete scale.")),o.a.createElement(K.DialogActions,null,o.a.createElement(q.a,{onClick:this.handleRequestClose,color:"primary"},"Cancel"),o.a.createElement(q.a,{onClick:this.deleteScale,color:"secondary",autoFocus:"autoFocus"},"Confirm"))))}}]),a}(l.Component),Z=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={scales:[]},e.updateListScale=function(){U().then((function(t){t.error?console.log(t.error):(console.log(e.state),e.setState({scales:t}))}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.updateListScale()}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(b.a,{className:t.root,elevation:4},o.a.createElement(s.b,{to:"/addscale"},o.a.createElement(A.a,{"aria-label":"Add",color:"primary"},o.a.createElement(P.a,null))),o.a.createElement(h.a,{type:"title",className:t.title},"All Scales"),this.state.scales.map((function(t,a){return o.a.createElement(v.a,{dense:!0,key:a},o.a.createElement(y.ListItem,{button:!0},o.a.createElement(y.ListItemAvatar,null,o.a.createElement(S.a,null,o.a.createElement(k.a,null))),o.a.createElement(y.ListItemText,{primary:t.department,secondary:t.scaleds}),o.a.createElement(y.ListItemSecondaryAction,null,o.a.createElement(s.b,{to:"/scale/edit/"+t._id},o.a.createElement(A.a,{"aria-label":"Edit",color:"primary"},o.a.createElement(R.a,null))),o.a.createElement(Y,{scaleId:t._id,updateListScale:e.updateListScale}))),o.a.createElement(y.ListItem,null,o.a.createElement(y.ListItemText,{primary:"Created at : "+new Date(t.created).toDateString()})),o.a.createElement(J.a,null))})))}}]),a}(l.Component),$=Object(u.withStyles)((function(e){return{root:e.mixins.gutters({maxWidth:900,margin:"auto",padding:3*e.spacing.unit,marginTop:5*e.spacing.unit}),title:{margin:"".concat(4*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px"),color:e.palette.openTitle}}}))(Z),ee=a(38),te=a(24),ae=a.n(te),ne=a(39),re=a.n(ne),ce=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={day:"",department:"",scaleds:"",open:!1,error:""},e.handleChange=function(t){return function(a){e.setState(Object(ee.a)({},t,a.target.value))}},e.clickSubmit=function(){var t=X.isAuthenticated(),a={day:e.state.day||void 0,department:e.state.department||void 0,scaleds:e.state.scaleds||void 0};M({t:t.token},a).then((function(t){t.error?e.setState({error:t.error}):e.setState({error:"",open:!0})}))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",null,o.a.createElement(d.a,{className:e.card},o.a.createElement(m.CardContent,null,o.a.createElement(h.a,{type:"headline",component:"h2",className:e.title},"Add Scale"),o.a.createElement(ae.a,{id:"day",label:"Day",className:e.textField,value:this.state.day,onChange:this.handleChange("day"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"department",type:"department",label:"Department",className:e.textField,value:this.state.department,onChange:this.handleChange("department"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"scaleds",type:"scaleds",label:"Scaleds",className:e.textField,value:this.state.scaleds,onChange:this.handleChange("scaleds"),margin:"normal"}),o.a.createElement("br",null)," ",this.state.error&&o.a.createElement(h.a,{component:"p",color:"error"},o.a.createElement(re.a,{color:"error",className:e.error},"error"),this.state.error)),o.a.createElement(m.CardActions,null,o.a.createElement(q.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Save"))),o.a.createElement(V.a,{open:this.state.open,disableBackdropClick:!0},o.a.createElement(K.DialogTitle,null,"New Scale"),o.a.createElement(K.DialogContent,null,o.a.createElement(K.DialogContentText,null,"New scale successfully created.")),o.a.createElement(K.DialogActions,null,o.a.createElement(s.b,{to:"/scales"},o.a.createElement(q.a,{color:"primary",autoFocus:"autoFocus",variant:"raised"},"Save")))))}}]),a}(l.Component),ie=Object(u.withStyles)((function(e){return{card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},error:{verticalAlign:"middle"},title:{marginTop:2*e.spacing.unit,color:e.palette.openTitle},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}}))(ce),le=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var r,c=e.match;return Object(n.a)(this,a),(r=t.call(this)).componentDidMount=function(){var e,t,a=X.isAuthenticated();(e={scaleId:r.match.params.scaleId},t={t:a.token},fetch("".concat(N.urlApi,"/api/scales/")+e.scaleId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?r.setState({error:e.error}):r.setState({day:e.day,department:e.department,scaleds:e.scaleds})}))},r.clickSubmit=function(){var e=X.isAuthenticated(),t={day:r.state.day||void 0,department:r.state.department||void 0,scaleds:r.state.scaleds||void 0};(function(e,t,a){return fetch("".concat(N.urlApi,"/api/scales/")+e.scaleId,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})({scaleId:r.match.params.scaleId},{t:e.token},t).then((function(e){e.error?r.setState({error:e.error}):r.setState({scaleId:e._id,redirectToScale:!0})}))},r.handleChange=function(e){return function(t){r.setState(Object(ee.a)({},e,t.target.value))}},r.state={day:"",department:"",scaleds:"",redirectToScale:!1,error:""},r.match=c,r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirectToScale?o.a.createElement(s.c,{to:"/scales"}):o.a.createElement(d.a,{className:e.card},o.a.createElement(m.CardContent,null,o.a.createElement(h.a,{type:"headline",component:"h2",className:e.title},"Edit Scale"),o.a.createElement(ae.a,{id:"day",label:"Day",className:e.textField,value:this.state.day,onChange:this.handleChange("day"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"department",label:"Email",className:e.textField,value:this.state.department,onChange:this.handleChange("department"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"scaleds",label:"Scaleds",className:e.textField,value:this.state.scaleds,onChange:this.handleChange("scaleds"),margin:"normal"}),o.a.createElement("br",null)," ",this.state.error&&o.a.createElement(h.a,{component:"p",color:"error"},o.a.createElement(re.a,{color:"error",className:e.error},"error"),this.state.error)),o.a.createElement(m.CardActions,null,o.a.createElement(q.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Save")))}}]),a}(l.Component),oe=Object(u.withStyles)((function(e){return{card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},title:{margin:2*e.spacing.unit,color:e.palette.protectedTitle},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}}))(le),se=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={name:"",password:"",email:"",open:!1,error:""},e.handleChange=function(t){return function(a){e.setState(Object(ee.a)({},t,a.target.value))}},e.clickSubmit=function(){var t={name:e.state.name||void 0,email:e.state.email||void 0,password:e.state.password||void 0};x(t).then((function(t){t.error?e.setState({error:t.error}):e.setState({error:"",open:!0})}))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",null,o.a.createElement(d.a,{className:e.card},o.a.createElement(m.CardContent,null,o.a.createElement(h.a,{type:"headline",component:"h2",className:e.title},"Sign Up"),o.a.createElement(ae.a,{id:"name",label:"Name",className:e.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"email",type:"email",label:"Email",className:e.textField,value:this.state.email,onChange:this.handleChange("email"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"password",type:"password",label:"Password",className:e.textField,value:this.state.password,onChange:this.handleChange("password"),margin:"normal"}),o.a.createElement("br",null)," ",this.state.error&&o.a.createElement(h.a,{component:"p",color:"error"},o.a.createElement(re.a,{color:"error",className:e.error},"error"),this.state.error)),o.a.createElement(m.CardActions,null,o.a.createElement(q.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit"))),o.a.createElement(V.a,{open:this.state.open,disableBackdropClick:!0},o.a.createElement(K.DialogTitle,null,"New Account"),o.a.createElement(K.DialogContent,null,o.a.createElement(K.DialogContentText,null,"New account successfully created.")),o.a.createElement(K.DialogActions,null,o.a.createElement(s.b,{to:"/signin"},o.a.createElement(q.a,{color:"primary",autoFocus:"autoFocus",variant:"raised"},"Sign In")))))}}]),a}(l.Component),ue=Object(u.withStyles)((function(e){return{card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},error:{verticalAlign:"middle"},title:{marginTop:2*e.spacing.unit,color:e.palette.openTitle},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}}))(se),me=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:"",error:"",redirectToReferrer:!1},e.clickSubmit=function(){var t={email:e.state.email||void 0,password:e.state.password||void 0};Q(t).then((function(t){t.error?e.setState({error:t.error}):X.authenticate(t,(function(){e.setState({redirectToReferrer:!0})}))}))},e.handleChange=function(t){return function(a){e.setState(Object(ee.a)({},t,a.target.value))}},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return this.state.redirectToReferrer?o.a.createElement(s.c,{to:t}):o.a.createElement(d.a,{className:e.card},o.a.createElement(m.CardContent,null,o.a.createElement(h.a,{type:"headline",component:"h2",className:e.title},"Sign In"),o.a.createElement(ae.a,{id:"email",type:"email",label:"Email",className:e.textField,value:this.state.email,onChange:this.handleChange("email"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"password",type:"password",label:"Password",className:e.textField,value:this.state.password,onChange:this.handleChange("password"),margin:"normal"}),o.a.createElement("br",null)," ",this.state.error&&o.a.createElement(h.a,{component:"p",color:"error"},o.a.createElement(re.a,{color:"error",className:e.error},"error"),this.state.error)),o.a.createElement(m.CardActions,null,o.a.createElement(q.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit")))}}]),a}(l.Component),de=Object(u.withStyles)((function(e){return{card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},error:{verticalAlign:"middle"},title:{marginTop:2*e.spacing.unit,color:e.palette.openTitle},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}}))(me),pe=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var r,c=e.match;return Object(n.a)(this,a),(r=t.call(this)).componentDidMount=function(){var e=X.isAuthenticated();I({userId:r.match.params.userId},{t:e.token}).then((function(e){e.error?r.setState({error:e.error}):r.setState({name:e.name,email:e.email})}))},r.clickSubmit=function(){var e=X.isAuthenticated(),t={name:r.state.name||void 0,email:r.state.email||void 0,password:r.state.password||void 0};(function(e,t,a){return fetch("".concat(N.urlApi,"/api/users/")+e.userId,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})({userId:r.match.params.userId},{t:e.token},t).then((function(e){e.error?r.setState({error:e.error}):r.setState({userId:e._id,redirectToProfile:!0})}))},r.handleChange=function(e){return function(t){r.setState(Object(ee.a)({},e,t.target.value))}},r.state={name:"",email:"",password:"",redirectToProfile:!1,error:""},r.match=c,r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirectToProfile?o.a.createElement(s.c,{to:"/user/"+this.state.userId}):o.a.createElement(d.a,{className:e.card},o.a.createElement(m.CardContent,null,o.a.createElement(h.a,{type:"headline",component:"h2",className:e.title},"Edit Profile"),o.a.createElement(ae.a,{id:"name",label:"Name",className:e.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"email",type:"email",label:"Email",className:e.textField,value:this.state.email,onChange:this.handleChange("email"),margin:"normal"}),o.a.createElement("br",null),o.a.createElement(ae.a,{id:"password",type:"password",label:"Password",className:e.textField,value:this.state.password,onChange:this.handleChange("password"),margin:"normal"}),o.a.createElement("br",null)," ",this.state.error&&o.a.createElement(h.a,{component:"p",color:"error"},o.a.createElement(re.a,{color:"error",className:e.error},"error"),this.state.error)),o.a.createElement(m.CardActions,null,o.a.createElement(q.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit")))}}]),a}(l.Component),he=Object(u.withStyles)((function(e){return{card:{maxWidth:600,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},title:{margin:2*e.spacing.unit,color:e.palette.protectedTitle},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}}))(pe),ge=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={redirect:!1,open:!1},e.clickButton=function(){e.setState({open:!0})},e.deleteAccount=function(){var t=X.isAuthenticated();D({userId:e.props.userId},{t:t.token}).then((function(t){t.error?console.log(t.error):(X.signout((function(){return console.log("deleted")})),e.setState({redirect:!0}))}))},e.handleRequestClose=function(){e.setState({open:!1})},e}return Object(r.a)(a,[{key:"render",value:function(){return this.state.redirect?o.a.createElement(s.c,{to:"/"}):o.a.createElement("span",null,o.a.createElement(A.a,{"aria-label":"Delete",onClick:this.clickButton,color:"secondary"},o.a.createElement(H.a,null)),o.a.createElement(V.a,{open:this.state.open,onClose:this.handleRequestClose},o.a.createElement(K.DialogTitle,null,"Delete Account"),o.a.createElement(K.DialogContent,null,o.a.createElement(K.DialogContentText,null,"Confirm to delete your account.")),o.a.createElement(K.DialogActions,null,o.a.createElement(q.a,{onClick:this.handleRequestClose,color:"primary"},"Cancel"),o.a.createElement(q.a,{onClick:this.deleteAccount,color:"secondary",autoFocus:"autoFocus"},"Confirm"))))}}]),a}(l.Component),Ee=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var r,c=e.match;return Object(n.a)(this,a),(r=t.call(this)).init=function(e){var t=X.isAuthenticated();I({userId:e},{t:t.token}).then((function(e){e.error?r.setState({redirectToSignin:!0}):r.setState({user:e})}))},r.componentWillReceiveProps=function(e){r.init(e.match.params.userId)},r.componentDidMount=function(){r.init(r.match.params.userId)},r.state={user:"",redirectToSignin:!1},r.match=c,r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirectToSignin?o.a.createElement(s.c,{to:"/signin"}):o.a.createElement(b.a,{className:e.root,elevation:4},o.a.createElement(h.a,{type:"title",className:e.title},"Profile"),o.a.createElement(v.a,{dense:!0},o.a.createElement(y.ListItem,null,o.a.createElement(y.ListItemAvatar,null,o.a.createElement(S.a,null,o.a.createElement(k.a,null))),o.a.createElement(y.ListItemText,{primary:this.state.user.name,secondary:this.state.user.email})," ",X.isAuthenticated().user&&X.isAuthenticated().user._id==this.state.user._id&&o.a.createElement(y.ListItemSecondaryAction,null,o.a.createElement(s.b,{to:"/user/edit/"+this.state.user._id},o.a.createElement(A.a,{"aria-label":"Edit",color:"primary"},o.a.createElement(R.a,null))),o.a.createElement(ge,{userId:this.state.user._id}))),o.a.createElement(J.a,null),o.a.createElement(y.ListItem,null,o.a.createElement(y.ListItemText,{primary:"Joined: "+new Date(this.state.user.created).toDateString()}))))}}]),a}(l.Component),fe=Object(u.withStyles)((function(e){return{root:e.mixins.gutters({maxWidth:600,margin:"auto",padding:3*e.spacing.unit,marginTop:5*e.spacing.unit}),title:{margin:"".concat(3*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px"),color:e.palette.protectedTitle}}}))(Ee),be=a(192),ye=function(e){var t=e.component,a=Object(be.a)(e,["component"]);return o.a.createElement(s.d,Object.assign({},a,{render:function(e){return X.isAuthenticated()?o.a.createElement(t,e):o.a.createElement(s.c,{to:{pathname:"/signin",state:{from:e.location}}})}}))},ve=a(187),Ce=a.n(ve),Se=a(188),je=a.n(Se),Ae=a(189),Oe=a.n(Ae),Te=function(e,t){return e.location.pathname==t?{color:"#ff4081"}:{color:"#ffffff"}},we=Object(s.f)((function(e){var t=e.history;return o.a.createElement(Ce.a,{position:"static"},o.a.createElement(je.a,null,o.a.createElement(h.a,{type:"title",color:"inherit"},"Scale"),o.a.createElement(s.b,{to:"/"},o.a.createElement(A.a,{"aria-label":"Home",style:Te(t,"/")},o.a.createElement(Oe.a,null))),o.a.createElement(s.b,{to:"/users"},o.a.createElement(q.a,{style:Te(t,"/users")},"Users")),X.isAuthenticated()&&o.a.createElement(s.b,{to:"/scales"},o.a.createElement(q.a,{style:Te(t,"/scales")},"Scales")),!X.isAuthenticated()&&o.a.createElement("span",null,o.a.createElement(s.b,{to:"/signup"},o.a.createElement(q.a,{style:Te(t,"/signup")},"Sign up")),o.a.createElement(s.b,{to:"/signin"},o.a.createElement(q.a,{style:Te(t,"/signin")},"Sign In"))),X.isAuthenticated()&&o.a.createElement("span",null,o.a.createElement(s.b,{to:"/user/"+X.isAuthenticated().user._id},o.a.createElement(q.a,{style:Te(t,"/user/"+X.isAuthenticated().user._id)},"My Profile")),o.a.createElement(q.a,{color:"inherit",onClick:function(){X.signout((function(){return t.push("/")}))}},"Sign out"))))})),ke=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementById("jss-server-side");e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(we,null),o.a.createElement(s.e,null,o.a.createElement(s.d,{exact:!0,path:"/",component:E}),o.a.createElement(s.d,{path:"/users",component:F}),o.a.createElement(s.d,{path:"/scales",component:$}),o.a.createElement(s.d,{path:"/addscale",component:ie}),o.a.createElement(ye,{path:"/scale/edit/:scaleId",component:oe}),o.a.createElement(s.d,{path:"/signup",component:ue}),o.a.createElement(s.d,{path:"/signin",component:de}),o.a.createElement(ye,{path:"/user/edit/:userId",component:he}),o.a.createElement(s.d,{path:"/user/:userId",component:fe})))}}]),a}(l.Component);t.a=ke},193:function(e,t,a){e.exports=a(194)},194:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),i=a(180);Object(c.hydrate)(r.a.createElement(i.a,null),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.e4c1ed24.chunk.js.map